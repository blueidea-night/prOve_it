<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>prove it</title>

  <!-- Bootstrap -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>


  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
      </div>

      <div class="head-brandname">
        prOve it
      </div>

      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav">
          <li class=""><a href="/">About us</a></li>
          <li class="active"><a href="api">Event Study API</a></li>

        </ul>

        <ul class="nav navbar-nav navbar-right">
          <!--        <li><a href="#">Link</a></li>-->
        </ul>
      </div>
    </div>
  </nav>

  <div class="container api_doc_page">
    <!-- <iframe src="api_docs/DRF Docs.html" style="width: 100%;" frameborder="0" scrolling="no" onload="resizeIframe(this)"> -->
    <!-- <p>Your browser does not support iframes.</p> -->
    <!-- </iframe> -->

    <script>
      function toggle_visibility(id) {
         var e = document.getElementById(id);
         if(e.style.display == 'block')
            e.style.display = 'none';
         else
            e.style.display = 'block';
      }
    </script>

    <div class="title">
      <h2>API Specification</h2>
      <h4>Version: <b>1.0</b></h4>
      <h4>Relative to <code>http://prove-it-unsw.herokuapp.com/api/v1/event-study</code> </h4>
      <br>
    </div>

    <div class="content">
      <div class="endpoints">
        <div class='endpoint'>
          <div class="name">
            <span class="label label-primary"><font size=3>POST</font></span><span class="path"> <code>/cumulative_returns</code></span>  
          </div>
          <br>
          <div class="params">


            <p class="fields-desc"><h4>Description</h4></p>
            <p class='greyed'>
              Calculates the cumulative returns (%) to determine whether a certain event has affected the stock price.
            </p>

            <br>
            <button onclick="toggle_visibility('param-codes');" class="spoilb">Parameter details</button>
            <div style="display:none" id="param-codes">

            <p class="fields-desc"><h4>Query parameters</h4></p>
              <ul class="list fields">
                <li class="field"><code>upper_window</code>
                  <p class='greyed'>
                    The upper window of time relative to the event date.
                  </p>
                </li>
              
                <li class="field"><code>lower_window</code>
                  <p class='greyed'>
                    The lower window of time relative to the event date.
                  </p>
                </li>

                <li class="field"><code>upper_&lt;var_name&gt;</code>
                  <p class='greyed'>
                    The upper threshold value for the event type.
                  </p>
                </li>

                <li class="field"><code>lower_&lt;var_name&gt;</code>
                  <p class='greyed'>
                    The lower threshold value for the event type.
                  </p>
                </li>
              </ul>

            <p class="fields-desc"><h4>Body parameters</h4></p>
              <ul class="list fields">
                <li class="field"><code>stock_price_file</code>
                  <p class='greyed'>
                  The .csv file containing the stock prices.
                  </p>
                </li>

                <li class="field"><code>stock_characteristic file</code>
                  <p class='greyed'>
                    The .csv file containing the stock characteristic.
                  </p>
                </li>
              </ul>
            </div>
            <br>


            <br>
            <p class="fields-desc"><h4>Return type</h4></p>
              <p class='greyed'>
                Returns ordered JSON array of products and their respective display names, as well as their cumulative returns as a percentage
              </p>

            <br>
            <p class="fields-desc"><h4>Example Usage</h4></p>
          
          </div>

          <pre>curl -X POST http://prove-it-unsw.herokuapp.com/api/v1/event-study/cumulative_returns</pre>
            <p class='greyed'>
              Example output can be found <a href="example-output.txt">here</a>.
            </p>

          <br>
          <!-- <p class="fields-desc"><h4>More details</h4></p> -->

          <button onclick="toggle_visibility('resp-codes');" class="spoilb"> Response Codes </button>

          <div style="display:none" id="resp-codes">
            <br>
            <ul class="list fields">
                <li class="field"><code>200</code>
                  <p class='greyed'>
                    Success, returns a JSON array
                  </p>
                </li>

                <li class="field"><code>404</code>
                  <p class='greyed'>
                    Incorrect or invalid parameters
                  </p>
                </li>

                <li class="field"><code>422</code>
                  <p class='greyed'>
                    One or more of the provided files is not in the <code>.csv</code> format
                  </p>
                </li>
              </ul>
          </div>
          <br>
          <br>
          <br>



        </div>
      </div>
    </div>
  </div>




  <script language="javascript" type="text/javascript">
    function resizeIframe(obj) {
      obj.style.height = obj.contentWindow.document.body.scrollHeight + 'px';
    }
  </script>


  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="../js/bootstrap.min.js"></script>
</body>

</html>